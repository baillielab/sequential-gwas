<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development · SequentialGWAS.jl</title><meta name="title" content="Development · SequentialGWAS.jl"/><meta property="og:title" content="Development · SequentialGWAS.jl"/><meta property="twitter:title" content="Development · SequentialGWAS.jl"/><meta name="description" content="Documentation for SequentialGWAS.jl."/><meta property="og:description" content="Documentation for SequentialGWAS.jl."/><meta property="twitter:description" content="Documentation for SequentialGWAS.jl."/><meta property="og:url" content="https://baillielab.github.io/SequentialGWAS.jl/development/"/><meta property="twitter:url" content="https://baillielab.github.io/SequentialGWAS.jl/development/"/><link rel="canonical" href="https://baillielab.github.io/SequentialGWAS.jl/development/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SequentialGWAS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Prereuisistes</span><ul><li><a class="tocitem" href="../odap_prerequisites/">ODAP</a></li><li><a class="tocitem" href="../rap_prerequisites/">UKB RAP</a></li></ul></li><li><span class="tocitem">Workflows</span><ul><li><a class="tocitem" href="../combining_datasets/">Combining Datasets</a></li><li><a class="tocitem" href="../genotypes_imputation/">Genotypes Imputation</a></li><li><a class="tocitem" href="../ukb_merge/">Merging the GenOMICC and UK Biobank Cohorts</a></li><li><a class="tocitem" href="../gwas/">GWAS</a></li></ul></li><li><span class="tocitem">For Developpers</span><ul><li class="is-active"><a class="tocitem" href>Development</a><ul class="internal"><li><a class="tocitem" href="#Build-Docker-Image"><span>Build Docker Image</span></a></li><li><a class="tocitem" href="#Code-Development-on-ODAP2"><span>Code Development on ODAP2</span></a></li><li><a class="tocitem" href="#UKB-RAP"><span>UKB RAP</span></a></li></ul></li><li><a class="tocitem" href="../mock_data/">Mock Data</a></li><li><a class="tocitem" href="../julia_fns/">Index Of Julia Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">For Developpers</a></li><li class="is-active"><a href>Development</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Development</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/baillielab/sequential-gwas" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/baillielab/sequential-gwas/blob/main/docs/src/development.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Development"><a class="docs-heading-anchor" href="#Development">Development</a><a id="Development-1"></a><a class="docs-heading-anchor-permalink" href="#Development" title="Permalink"></a></h1><p>This page contains some tips and tricks to help development. Because of the difficulty associated with development on ODAP it is assumed that most of the development will take place outside of it. For that purpose the original data has been mocked and is stored in <code>test/assets</code>. More information on the process can be found in <a href="../mock_data/#Mock-Data">Mock Data</a></p><h2 id="Build-Docker-Image"><a class="docs-heading-anchor" href="#Build-Docker-Image">Build Docker Image</a><a id="Build-Docker-Image-1"></a><a class="docs-heading-anchor-permalink" href="#Build-Docker-Image" title="Permalink"></a></h2><p>The image is built automatically during the continuous integration process and published on <a href="https://hub.docker.com/repository/docker/olivierlabayle/sequential-gwas/tags">Docker HUB</a>.</p><p>You can also build it locally if you have docker installed by running the following:</p><pre><code class="language-bash hljs">docker build -t sequential-gwas -f docker/Dockerfile .</code></pre><p>(If running on MacOS with an ARM platform, add: <code>--platform linux/amd64</code>)</p><h2 id="Code-Development-on-ODAP2"><a class="docs-heading-anchor" href="#Code-Development-on-ODAP2">Code Development on ODAP2</a><a id="Code-Development-on-ODAP2-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Development-on-ODAP2" title="Permalink"></a></h2><p>When you really need to.</p><p>First import the <a href="https://hub.docker.com/repository/docker/olivierlabayle/sequential-gwas/general">docker image</a> as a singularity container within ODAP which we assume is called <code>sequential-gwas.sif</code>.</p><h3 id="Julia-REPL"><a class="docs-heading-anchor" href="#Julia-REPL">Julia REPL</a><a id="Julia-REPL-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-REPL" title="Permalink"></a></h3><p>To get a shell while mounting the repo within the container:</p><pre><code class="language-bash hljs">singularity shell --bind $PWD:/mnt/sequential-gwas sequential-gwas.sif</code></pre><pre><code class="language-bash hljs">singularity shell --bind $PWD:/mnt/sequential-gwas sequential-gwas.sif </code></pre><p>Then run the julia REPL</p><pre><code class="language-bash hljs">JULIA_DEPOT_PATH=$JULIA_DEPOT_PATH:/root/.julia julia --project=/mnt/sequential-gwas</code></pre><h3 id="Extra-Tools"><a class="docs-heading-anchor" href="#Extra-Tools">Extra Tools</a><a id="Extra-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Tools" title="Permalink"></a></h3><p>Most tools are available within their conda environment, for instance regenie:</p><pre><code class="language-bash hljs">docker run -it --rm sequential-gwas /opt/miniforge3/bin/mamba run -n regenie_env regenie --help</code></pre><p>(If running on MacOS with arm platform, add: <code>--platform linux/amd64</code>)</p><h2 id="UKB-RAP"><a class="docs-heading-anchor" href="#UKB-RAP">UKB RAP</a><a id="UKB-RAP-1"></a><a class="docs-heading-anchor-permalink" href="#UKB-RAP" title="Permalink"></a></h2><h3 id="Cloud-Workstation"><a class="docs-heading-anchor" href="#Cloud-Workstation">Cloud Workstation</a><a id="Cloud-Workstation-1"></a><a class="docs-heading-anchor-permalink" href="#Cloud-Workstation" title="Permalink"></a></h3><p>To debug errors, it may be useful to run the code interactively, for this, you can use the <a href="https://documentation.dnanexus.com/developer/cloud-workstation">Cloud Workstation</a>. This <a href="https://academy.dnanexus.com/interactivecloudcomputing/cloudworkstation">tutorial</a> may also be useful. To start an instance:</p><pre><code class="language-bash hljs">dx run \
  --instance-type mem1_ssd1_v2_x16 \
  -imax_session_length=&quot;10h&quot; \
  -y \
  --ssh app-cloud_workstation</code></pre><p>To import one or multiple files:</p><pre><code class="language-bash hljs">dx download file-J1P9y88JjZjXfq4Y5gYBxk86 file-J1P9y88JjZjbX18xFZ38qY2P</code></pre><p>Then you can download the docker image and enter a container:</p><pre><code class="language-bash hljs">docker run -it --rm -v $PWD:/mnt/data olivierlabayle/genomicc:main /bin/bash</code></pre><p>The current directory is mounted to <code>/mnt/data</code>. From there, work as usual, for instance to start a Julia REPL:</p><pre><code class="language-bash hljs">julia --project=/opt/sequential-gwas --sysimage=/opt/sequential-gwas/FlowOMMIC.so --startup-file=no</code></pre><p>Finally, when you are finished, terminate the job with the appropriate job-id:</p><pre><code class="language-bash hljs">dx terminate job-J1V4870JpYQP94jgb33y45qP</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gwas/">« GWAS</a><a class="docs-footer-nextpage" href="../mock_data/">Mock Data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 30 June 2025 14:42">Monday 30 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
